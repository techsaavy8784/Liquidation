{
  "address": "0xeDAECBd648EC8b9A362F1F05312331f03d84E940",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_quoteToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_factory",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "ONE",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "factory",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        }
      ],
      "name": "getPrice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_base",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_quote",
          "type": "address"
        }
      ],
      "name": "getPriceQuote",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "oracles",
      "outputs": [
        {
          "internalType": "address",
          "name": "oracleImpl",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "data",
          "type": "bytes"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "quoteToken",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_token",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_oracle",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "_data",
          "type": "bytes"
        }
      ],
      "name": "registerToken",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "transactionHash": "0x6e35f4dd302931e24f8b7c79f5729209a5f1590710e59e2e1c8b564cb91ab8f5",
  "receipt": {
    "to": null,
    "from": "0x48872D69A9591153c5220381C953752f5894ff05",
    "contractAddress": "0xeDAECBd648EC8b9A362F1F05312331f03d84E940",
    "transactionIndex": 7,
    "gasUsed": "575678",
    "logsBloom": "0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000",
    "blockHash": "0xb6343a5ef886edd2c4f25de58cebce08b19cb9e3457e85bdc3f8c575b30340dd",
    "transactionHash": "0x6e35f4dd302931e24f8b7c79f5729209a5f1590710e59e2e1c8b564cb91ab8f5",
    "logs": [],
    "blockNumber": 27605166,
    "cumulativeGasUsed": "1384697",
    "status": 1,
    "byzantium": true
  },
  "args": [
    "0xd0A1E359811322d97991E03f863a0C30C2cF029C",
    "0x6484Fa6a2E75eCEf4aca24E35b5cf73e8e139714"
  ],
  "solcInputHash": "6d92413c800e1feb51432e172a193baa",
  "metadata": "{\"compiler\":{\"version\":\"0.8.7+commit.e28d00a7\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_quoteToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_factory\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[],\"name\":\"ONE\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"factory\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"}],\"name\":\"getPrice\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_base\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_quote\",\"type\":\"address\"}],\"name\":\"getPriceQuote\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"oracles\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"oracleImpl\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"quoteToken\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"_token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_oracle\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"_data\",\"type\":\"bytes\"}],\"name\":\"registerToken\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{},\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/SiloOracle.sol\":\"SiloOracle\"},\"evmVersion\":\"london\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\",\"useLiteralContent\":true},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"contracts/SiloOracle.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.7;\\n\\nimport './interfaces/ISiloOracle.sol';\\nimport './interfaces/IOracle.sol';\\n\\ncontract SiloOracle is ISiloOracle {\\n    uint256 public constant ONE = 10**18;\\n\\n    address public immutable factory;\\n    address public quoteToken;\\n\\n    struct OracleData {\\n        address oracleImpl;\\n        bytes data;\\n    }\\n\\n    mapping(address => OracleData) public oracles;\\n\\n    modifier onlyFactory() {\\n        require(msg.sender == address(factory), \\\"SiloOracle: onlyFactory\\\");\\n        _;\\n    }\\n\\n    constructor(address _quoteToken, address _factory) {\\n        factory = _factory;\\n        quoteToken = _quoteToken;\\n    }\\n\\n    function registerToken(address _token, address _oracle, bytes memory _data) external override onlyFactory {\\n        require(IOracle(_oracle).isSiloOracle(), \\\"SiloOracle: not an oracle\\\");\\n        oracles[_token] = OracleData(_oracle, _data);\\n        IOracle(_oracle).initToken(_token, quoteToken, _data);\\n    }\\n\\n    function getPrice(address _token) public virtual override returns (uint256) {\\n        return getPriceQuote(_token, quoteToken);\\n    }\\n\\n    function getPriceQuote(address _base, address _quote) public returns (uint256) {\\n        if (_base == _quote) return ONE;\\n        return IOracle(oracles[_base].oracleImpl).getPrice(_base, _quote, oracles[_base].data);\\n    }\\n}\\n\",\"keccak256\":\"0x7c4d63c4037a3f38085e49d60d32b0ecfc2e701691cec6da0dc64097951fcacb\",\"license\":\"BUSL-1.1\"},\"contracts/interfaces/IOracle.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity >=0.6.0 <0.9.0;\\n\\ninterface IOracle {\\n    function initToken(address _base, address _quote, bytes calldata _data) external;\\n    function isSiloOracle() external pure returns (bool);\\n    function getPrice(address _base, address _quote, bytes calldata _data) external returns (uint256 price);\\n}\\n\",\"keccak256\":\"0xe597b12987915f29060ab9302b39ea3c7b951b14e1e1e8bb127d2d9df9f23730\",\"license\":\"BUSL-1.1\"},\"contracts/interfaces/ISiloOracle.sol\":{\"content\":\"// SPDX-License-Identifier: BUSL-1.1\\npragma solidity 0.8.7;\\n\\ninterface ISiloOracle {\\n    function getPrice(address token) external returns (uint256);\\n    function registerToken(address token, address oracle, bytes memory data) external;\\n}\\n\",\"keccak256\":\"0x8691b23456f1ace3b58bcff36443b214c13207b1ea250851b5962bafa7b3c859\",\"license\":\"BUSL-1.1\"}},\"version\":1}",
  "bytecode": "0x60a060405234801561001057600080fd5b506040516109d83803806109d883398101604081905261002f91610080565b60601b6001600160601b031916608052600080546001600160a01b0319166001600160a01b03929092169190911790556100b3565b80516001600160a01b038116811461007b57600080fd5b919050565b6000806040838503121561009357600080fd5b61009c83610064565b91506100aa60208401610064565b90509250929050565b60805160601c6109006100d86000396000818161013001526102f401526109006000f3fe608060405234801561001057600080fd5b506004361061007d5760003560e01c8063addd50991161005b578063addd5099146100e6578063b02d478a14610107578063c2ee3a081461011c578063c45a01551461012b57600080fd5b8063054cc48b14610082578063217a4b70146100a857806341976e09146100d3575b600080fd5b6100956100903660046105bf565b610152565b6040519081526020015b60405180910390f35b6000546100bb906001600160a01b031681565b6040516001600160a01b03909116815260200161009f565b6100956100e13660046105a4565b610221565b6100f96100f43660046105a4565b610239565b60405161009f92919061084d565b61011a6101153660046105f2565b6102e9565b005b610095670de0b6b3a764000081565b6100bb7f000000000000000000000000000000000000000000000000000000000000000081565b6000816001600160a01b0316836001600160a01b0316141561017d5750670de0b6b3a764000061021b565b6001600160a01b038084166000908152600160208190526040918290208054925163355efdd960e01b8152929093169263355efdd9926101c69288928892910190600401610788565b602060405180830381600087803b1580156101e057600080fd5b505af11580156101f4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061021891906106ed565b90505b92915050565b6000805461021b9083906001600160a01b0316610152565b6001602081905260009182526040909120805491810180546001600160a01b039093169261026690610879565b80601f016020809104026020016040519081016040528092919081815260200182805461029290610879565b80156102df5780601f106102b4576101008083540402835291602001916102df565b820191906000526020600020905b8154815290600101906020018083116102c257829003601f168201915b5050505050905082565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146103665760405162461bcd60e51b815260206004820152601760248201527f53696c6f4f7261636c653a206f6e6c79466163746f727900000000000000000060448201526064015b60405180910390fd5b816001600160a01b031663ecdcb0ff6040518163ffffffff1660e01b815260040160206040518083038186803b15801561039f57600080fd5b505afa1580156103b3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103d791906106c4565b6104235760405162461bcd60e51b815260206004820152601960248201527f53696c6f4f7261636c653a206e6f7420616e206f7261636c6500000000000000604482015260640161035d565b6040805180820182526001600160a01b038481168252602080830185815287831660009081526001808452959020845181546001600160a01b03191694169390931783555180519394929361047f9385019291909101906104ef565b505060005460405163c77a494960e01b81526001600160a01b03858116935063c77a4949926104b8928892909116908690600401610753565b600060405180830381600087803b1580156104d257600080fd5b505af11580156104e6573d6000803e3d6000fd5b50505050505050565b8280546104fb90610879565b90600052602060002090601f01602090048101928261051d5760008555610563565b82601f1061053657805160ff1916838001178555610563565b82800160010185558215610563579182015b82811115610563578251825591602001919060010190610548565b5061056f929150610573565b5090565b5b8082111561056f5760008155600101610574565b80356001600160a01b038116811461059f57600080fd5b919050565b6000602082840312156105b657600080fd5b61021882610588565b600080604083850312156105d257600080fd5b6105db83610588565b91506105e960208401610588565b90509250929050565b60008060006060848603121561060757600080fd5b61061084610588565b925061061e60208501610588565b9150604084013567ffffffffffffffff8082111561063b57600080fd5b818601915086601f83011261064f57600080fd5b813581811115610661576106616108b4565b604051601f8201601f19908116603f01168101908382118183101715610689576106896108b4565b816040528281528960208487010111156106a257600080fd5b8260208601602083013760006020848301015280955050505050509250925092565b6000602082840312156106d657600080fd5b815180151581146106e657600080fd5b9392505050565b6000602082840312156106ff57600080fd5b5051919050565b6000815180845260005b8181101561072c57602081850181015186830182015201610710565b8181111561073e576000602083870101525b50601f01601f19169290920160200192915050565b6001600160a01b0384811682528316602082015260606040820181905260009061077f90830184610706565b95945050505050565b6001600160a01b03848116825283166020808301919091526060604083015282546000918291600181811c90828116806107c357607f831692505b8483108114156107e157634e487b7160e01b86526022600452602486fd5b606088018390526080880181801561080057600181146108115761083c565b60ff1986168252868201975061083c565b60008b81526020902060005b868110156108365781548482015290850190880161081d565b83019850505b50959b9a5050505050505050505050565b6001600160a01b038316815260406020820181905260009061087190830184610706565b949350505050565b600181811c9082168061088d57607f821691505b602082108114156108ae57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fdfea2646970667358221220e387a954e09e3c7705f9f195f81af9afe87a547a19b3c48b71b3270a6658c6dc64736f6c63430008070033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061007d5760003560e01c8063addd50991161005b578063addd5099146100e6578063b02d478a14610107578063c2ee3a081461011c578063c45a01551461012b57600080fd5b8063054cc48b14610082578063217a4b70146100a857806341976e09146100d3575b600080fd5b6100956100903660046105bf565b610152565b6040519081526020015b60405180910390f35b6000546100bb906001600160a01b031681565b6040516001600160a01b03909116815260200161009f565b6100956100e13660046105a4565b610221565b6100f96100f43660046105a4565b610239565b60405161009f92919061084d565b61011a6101153660046105f2565b6102e9565b005b610095670de0b6b3a764000081565b6100bb7f000000000000000000000000000000000000000000000000000000000000000081565b6000816001600160a01b0316836001600160a01b0316141561017d5750670de0b6b3a764000061021b565b6001600160a01b038084166000908152600160208190526040918290208054925163355efdd960e01b8152929093169263355efdd9926101c69288928892910190600401610788565b602060405180830381600087803b1580156101e057600080fd5b505af11580156101f4573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061021891906106ed565b90505b92915050565b6000805461021b9083906001600160a01b0316610152565b6001602081905260009182526040909120805491810180546001600160a01b039093169261026690610879565b80601f016020809104026020016040519081016040528092919081815260200182805461029290610879565b80156102df5780601f106102b4576101008083540402835291602001916102df565b820191906000526020600020905b8154815290600101906020018083116102c257829003601f168201915b5050505050905082565b336001600160a01b037f000000000000000000000000000000000000000000000000000000000000000016146103665760405162461bcd60e51b815260206004820152601760248201527f53696c6f4f7261636c653a206f6e6c79466163746f727900000000000000000060448201526064015b60405180910390fd5b816001600160a01b031663ecdcb0ff6040518163ffffffff1660e01b815260040160206040518083038186803b15801561039f57600080fd5b505afa1580156103b3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103d791906106c4565b6104235760405162461bcd60e51b815260206004820152601960248201527f53696c6f4f7261636c653a206e6f7420616e206f7261636c6500000000000000604482015260640161035d565b6040805180820182526001600160a01b038481168252602080830185815287831660009081526001808452959020845181546001600160a01b03191694169390931783555180519394929361047f9385019291909101906104ef565b505060005460405163c77a494960e01b81526001600160a01b03858116935063c77a4949926104b8928892909116908690600401610753565b600060405180830381600087803b1580156104d257600080fd5b505af11580156104e6573d6000803e3d6000fd5b50505050505050565b8280546104fb90610879565b90600052602060002090601f01602090048101928261051d5760008555610563565b82601f1061053657805160ff1916838001178555610563565b82800160010185558215610563579182015b82811115610563578251825591602001919060010190610548565b5061056f929150610573565b5090565b5b8082111561056f5760008155600101610574565b80356001600160a01b038116811461059f57600080fd5b919050565b6000602082840312156105b657600080fd5b61021882610588565b600080604083850312156105d257600080fd5b6105db83610588565b91506105e960208401610588565b90509250929050565b60008060006060848603121561060757600080fd5b61061084610588565b925061061e60208501610588565b9150604084013567ffffffffffffffff8082111561063b57600080fd5b818601915086601f83011261064f57600080fd5b813581811115610661576106616108b4565b604051601f8201601f19908116603f01168101908382118183101715610689576106896108b4565b816040528281528960208487010111156106a257600080fd5b8260208601602083013760006020848301015280955050505050509250925092565b6000602082840312156106d657600080fd5b815180151581146106e657600080fd5b9392505050565b6000602082840312156106ff57600080fd5b5051919050565b6000815180845260005b8181101561072c57602081850181015186830182015201610710565b8181111561073e576000602083870101525b50601f01601f19169290920160200192915050565b6001600160a01b0384811682528316602082015260606040820181905260009061077f90830184610706565b95945050505050565b6001600160a01b03848116825283166020808301919091526060604083015282546000918291600181811c90828116806107c357607f831692505b8483108114156107e157634e487b7160e01b86526022600452602486fd5b606088018390526080880181801561080057600181146108115761083c565b60ff1986168252868201975061083c565b60008b81526020902060005b868110156108365781548482015290850190880161081d565b83019850505b50959b9a5050505050505050505050565b6001600160a01b038316815260406020820181905260009061087190830184610706565b949350505050565b600181811c9082168061088d57607f821691505b602082108114156108ae57634e487b7160e01b600052602260045260246000fd5b50919050565b634e487b7160e01b600052604160045260246000fdfea2646970667358221220e387a954e09e3c7705f9f195f81af9afe87a547a19b3c48b71b3270a6658c6dc64736f6c63430008070033",
  "devdoc": {
    "kind": "dev",
    "methods": {},
    "version": 1
  },
  "userdoc": {
    "kind": "user",
    "methods": {},
    "version": 1
  },
  "storageLayout": {
    "storage": [
      {
        "astId": 7225,
        "contract": "contracts/SiloOracle.sol:SiloOracle",
        "label": "quoteToken",
        "offset": 0,
        "slot": "0",
        "type": "t_address"
      },
      {
        "astId": 7235,
        "contract": "contracts/SiloOracle.sol:SiloOracle",
        "label": "oracles",
        "offset": 0,
        "slot": "1",
        "type": "t_mapping(t_address,t_struct(OracleData)7230_storage)"
      }
    ],
    "types": {
      "t_address": {
        "encoding": "inplace",
        "label": "address",
        "numberOfBytes": "20"
      },
      "t_bytes_storage": {
        "encoding": "bytes",
        "label": "bytes",
        "numberOfBytes": "32"
      },
      "t_mapping(t_address,t_struct(OracleData)7230_storage)": {
        "encoding": "mapping",
        "key": "t_address",
        "label": "mapping(address => struct SiloOracle.OracleData)",
        "numberOfBytes": "32",
        "value": "t_struct(OracleData)7230_storage"
      },
      "t_struct(OracleData)7230_storage": {
        "encoding": "inplace",
        "label": "struct SiloOracle.OracleData",
        "members": [
          {
            "astId": 7227,
            "contract": "contracts/SiloOracle.sol:SiloOracle",
            "label": "oracleImpl",
            "offset": 0,
            "slot": "0",
            "type": "t_address"
          },
          {
            "astId": 7229,
            "contract": "contracts/SiloOracle.sol:SiloOracle",
            "label": "data",
            "offset": 0,
            "slot": "1",
            "type": "t_bytes_storage"
          }
        ],
        "numberOfBytes": "64"
      }
    }
  }
}